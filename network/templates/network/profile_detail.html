{% extends 'network/layout.html' %}
{% load static %}



{% block body %}
    
        <h2>{{ user.first_name }} {{ user.last_name }}</h2>
        <hr>
        <div class="row "> 
            <div class="col-md-4 "> 

                {% if user.profile.image %}
                <img src="{{ user.profile.image.url }}" class="img-fluid img-detail rounded"> 
                {% else %}
                <div class="image-placeholder position-relative"> <h1 class="position-absolute top-50 start-45"> Upload Photo</h1>  </div>
                {% endif %}
               
             </div>


            <div class="col-md-8"> 

                <div class="row row-col justify-content-around px-3"> 
                    {% with total_followers=user.following.count %}
                    
                    <div class="col">

                        <span class="count btn btn-outline-primary">
                            <span class="total"> {{ total_followers }} </span>
                            Follower{{ total_followers|pluralize }}
                        </span>
                    </div>

                    <div class="col d-flex flex-row-reverse"> 
                        
                        {% if user == request.user %}
                       
                        <p> <i style="color: red;">{{ request.user }} </i> Can not follow <i style="color: red;">{{ request.user }} </i></p>

                        {% else %}
                        <button class="btn btn-primary js-follow" style="width: 100px;" 
                        data-action ='{% if you_follow%}un{% endif %}follow' data-url="{% url 'user_follow' user.username %}"
                        data-username="{{ user.username }}">
                        <span class="js-follow-text">
                            
                            {% if you_follow %}
                                Unfollow
                                {% else %}
                                Follow
                            {% endif %}
                        </span>
                        </button>
                            
                        {% endif %}
                            
                    
                    </div>
                </div>
                <hr>
                 <p>hello </p>  

                

            
            
            </div>
        </div>
        
   {% endwith %}
{% endblock body %}
    